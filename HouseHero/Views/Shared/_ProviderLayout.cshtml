<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>خدماتك</title>
    <link rel="shortcut icon" href="~/assets/Home/logo.ico" />

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous"
          referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="~/css/_ProviderLayout.css" />
    @RenderSection("Provider", required: false)
    @RenderSection("ProviderProfile", required: false)

</head>
<body>
    <div class="main">
        <header class="header" id="header">
            <a asp-controller="Category" asp-action="GetAll">
                <img src="~/assets/Home/logo.png" class="logo" alt="" />
            </a>

            <div class="nav-links">
                <ul id="navbar">
                    <p>خدماتك</p>
                    <li><a asp-controller="Category" asp-action="GetAll">الرئيسية</a></li>
                    <li><a href="#slider">الخدمات</a></li>
                    <li><a href="#footer">اتصل بنا</a></li>
                </ul>
            </div>
            @if (User.Identity.IsAuthenticated)
            {
                @if (User.IsInRole("Customer"))
                {
                    <div class="profile-dropdown">
                        <button id="profile-btn" class="profile-btn">
                            <i class="fa-solid fa-user"></i>
                            <span>@User.Identity.Name</span>
                        </button>

                        <ul id="profile-menu" class="dropdown-menu" style="display: none">
                            <li><a asp-controller="Customer" asp-action="CustomerProfile" asp-route-UserName="@User.Identity.Name">الصفحة الشخصية</a></li>
                            @*<li><a asp-controller="EditCustomerProfile" asp-action="Edit" asp-route-id="">تعديل الحساب</a></li>*@
                            <li><a asp-controller="Account" asp-action="Logout">تسجيل خروج</a></li>
                        </ul>
                    </div>
                }
                else if (User.IsInRole("Provider"))
                {
                    <div class="profile-dropdown">
                        <button id="profile-btn" class="profile-btn">
                            <i class="fa-solid fa-user"></i>
                            <span>@User.Identity.Name</span>
                        </button>

                        <ul id="profile-menu" class="dropdown-menu" style="display: none">
                            <li><a asp-controller="ProviderProfile" asp-action="Details" asp-route-UserName="@User.Identity.Name">الصفحة الشخصية</a></li>
                            @*<li><a asp-controller="EditProviderProfile" asp-action="" asp-route-id="">تعديل الحساب</a></li>*@
                            <li><a asp-controller="Account" asp-action="Logout">تسجيل خروج</a></li>
                        </ul>
                    </div>
                }

            }
            else
            {
                <div class="buttons">
                    <a asp-controller="Account" asp-action="Login" class="button1">تسجيل الدخول</a>
                    <a asp-controller="Account" asp-action="RegisterType" class="button2">اشترك معنا</a>
                </div>
            }
        </header>

        @RenderBody()
        </div>
             <script src="~/js/_NewLayout.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

               @await RenderSectionAsync("ModalValid", required: false)

     </body>
  </html>
